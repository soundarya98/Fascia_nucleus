<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NovaXR: src/Peripherals/NovaXR_PPG_Sensor.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DoxLogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NovaXR
   &#160;<span id="projectnumber">V2</span>
   </div>
   <div id="projectbrief">NovaXR Firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2ef109e2e66c4c5c8ec05e153579b6ca.html">Peripherals</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">NovaXR_PPG_Sensor.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_nova_x_r___p_p_g___sensor_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Author:       Ioannis Smanis</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Library Ver.: 0.5</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Library for:  PPG sensor</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Project:      NovaXR</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Date:         11/28/2019</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Module:       NovaXR_PPG_Sensor.cpp</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;Wire.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_m_a_x30105_8h.html">MAX30105.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heart_rate_8h.html">heartRate.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_nova_x_r___p_p_g___sensor_8h.html">NovaXR_PPG_Sensor.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//#define debug_presence</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//#define debug_temp</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//#define debug_HR</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#aa76f44a666acbb14fbfb16a789f9f480">   19</a></span>&#160;<span class="preprocessor">#define plotIR</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// ----- Object Initialization -------------------------</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">   23</a></span>&#160;<a class="code" href="class_m_a_x30105.html">MAX30105</a> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// ----- Global variables and defines ------------------</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac8a50ff971ce33bff956168d52ee61e5">   26</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac8a50ff971ce33bff956168d52ee61e5">samplesTaken</a> = 0; <span class="comment">// Counter for calculating the Hz or read rate</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a639c25a6b30b46519847f6cacf61a4ed">   27</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a639c25a6b30b46519847f6cacf61a4ed">unblockedValue</a>;   <span class="comment">// Average IR at power up</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a8ad49a66e91d8658c5f1f7dbcbcbbd2f">   28</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a8ad49a66e91d8658c5f1f7dbcbcbbd2f">startTime</a>;        <span class="comment">// Used to calculate measurement rate</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// -- HeartRate variables</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac80b6534b64626fd7d4fc92e452faab5">   31</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">byte</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac80b6534b64626fd7d4fc92e452faab5">RATE_SIZE</a> = 4; <span class="comment">//Increase this for more averaging. 4 is good.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a5be4ed6a366fb72c4ae168a9ad5f8ba8">   32</a></span>&#160;<span class="keywordtype">byte</span>  <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a5be4ed6a366fb72c4ae168a9ad5f8ba8">rates</a>[<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac80b6534b64626fd7d4fc92e452faab5">RATE_SIZE</a>]; <span class="comment">//Array of heart rates</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a27972f8a7ab52059be105f343424f15c">   33</a></span>&#160;<span class="keywordtype">byte</span>  <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a27972f8a7ab52059be105f343424f15c">rateSpot</a> = 0;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#aeb3f835683fe296bbc04886d551dbd4a">   34</a></span>&#160;<span class="keywordtype">long</span>  <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aeb3f835683fe296bbc04886d551dbd4a">lastBeat</a> = 0; <span class="comment">//Time at which the last beat occurred</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22155a0d10f9fceddce65f96454f99e4">   35</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22155a0d10f9fceddce65f96454f99e4">beatsPerMinute</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">   36</a></span>&#160;<span class="keywordtype">int</span>   <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">beatAvg</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; <span class="comment">// Setup to sense stable HR values</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">   39</a></span>&#160; <span class="keywordtype">byte</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a> =   0; <span class="comment">//Options: 0=Off to 255=50mA</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">   40</a></span>&#160; <span class="keywordtype">byte</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a> =   0; <span class="comment">//Options: 1, 2, 4, 8, 16, 32</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">   41</a></span>&#160; <span class="keywordtype">byte</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a> =         0; <span class="comment">//Options: 1 = Red only, 2 = Red + IR, 3 = Red + IR + Green</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">   42</a></span>&#160; <span class="keywordtype">int</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>=        0; <span class="comment">//Options: 50, 100, 200, 400, 800, 1000, 1600, 3200</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">   43</a></span>&#160; <span class="keywordtype">int</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a> =       0; <span class="comment">//Options: 69, 118, 215, 411</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">   44</a></span>&#160; <span class="keywordtype">int</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a> =         0; <span class="comment">//Options: 2048, 4096, 8192, 16384</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// --------------- Configure PPG sensor for HR and Skin Temp Sense ----------------------</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#aa9f6599748e33619812aa4d415df31d9">   50</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aa9f6599748e33619812aa4d415df31d9">PPG_Init</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// Initialize sensor</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#ac0c8b46b41bdd9b7833e2e0c00b1e0b9">begin</a>(Wire, <a class="code" href="_m_a_x30105_8h.html#a389fa0c3fdbed513c010d94181965bf1">I2C_SUPER_FAST</a> ) == <span class="keyword">false</span>){ <span class="comment">//Use default I2C port, 800kHz speed</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">        #ifdef debug_presence  </span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;          Serial.println(<span class="stringliteral">&quot;MAX30105 was not found. Please check wiring/power. &quot;</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">        #endif </span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">while</span> (1);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// Apply Sensoer Configuration Set #4</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a87e2524329ce8db857333bba81eb2c8e">setPulseAmplitudeRed</a>(0x0A);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    delay(500);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7e0ec4005de3cd297a93ae7d5c053c48">HR_config</a>(); </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// --------------- Configure PPG sensor for Presence Sense ---------------------------</span></div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a586ed1dd49778c23de689b28f9625f0f">   68</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a586ed1dd49778c23de689b28f9625f0f">PPG_Presence_Sense_Init</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// Initialize sensor</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#ac0c8b46b41bdd9b7833e2e0c00b1e0b9">begin</a>(Wire, <a class="code" href="_m_a_x30105_8h.html#aef9d097ed2b58676498a33f3cf76f38d">I2C_SPEED_FAST</a>) == <span class="keyword">false</span>){ <span class="comment">//Use default I2C port, 400kHz speed</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">        #ifdef debug_presence  </span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;          Serial.println(<span class="stringliteral">&quot;MAX30105 was not found. Please check wiring/power. &quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">        #endif      </span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">while</span> (1);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// Set Sensor Control Registers for Presence Sense</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7e0ec4005de3cd297a93ae7d5c053c48">HR_config</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">//Take an average of IR readings at power up</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a639c25a6b30b46519847f6cacf61a4ed">unblockedValue</a> = 0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">byte</span> x = 0 ; x &lt; 32 ; x++){</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;       <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a639c25a6b30b46519847f6cacf61a4ed">unblockedValue</a> += <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a50f5a5bc027f69d783b191a948b407d0">getIR</a>(); <span class="comment">//Read the IR value</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a639c25a6b30b46519847f6cacf61a4ed">unblockedValue</a> /= 32;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a8ad49a66e91d8658c5f1f7dbcbcbbd2f">startTime</a> = millis();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">// --------------- Get NovaXR headset &quot;worn&quot; or &quot;not worn&quot;  status ---------------------------</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#ac3bd7a0dc15438f386087a9f208725ec">   93</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac3bd7a0dc15438f386087a9f208725ec">getPresence</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordtype">bool</span> presence = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;       </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">      #ifdef debug_presence  // IR Reflection Values and Sampling Rate</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac8a50ff971ce33bff956168d52ee61e5">samplesTaken</a>++;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          Serial.print(<span class="stringliteral">&quot;IR[&quot;</span>); Serial.print(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a50f5a5bc027f69d783b191a948b407d0">getIR</a>());Serial.print(<span class="stringliteral">&quot;] Hz[&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          Serial.print((<span class="keywordtype">float</span>)<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac8a50ff971ce33bff956168d52ee61e5">samplesTaken</a> / ((millis() - <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a8ad49a66e91d8658c5f1f7dbcbcbbd2f">startTime</a>) / 1000.0), 2);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;          Serial.print(<span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">      #endif</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="comment">// Calculate the current Delta signal difference from unblocked to blocked sensor</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordtype">long</span> currentDelta = <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a50f5a5bc027f69d783b191a948b407d0">getIR</a>() - <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a639c25a6b30b46519847f6cacf61a4ed">unblockedValue</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">       #ifdef debug_presence </span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;          Serial.print(<span class="stringliteral">&quot; delta[&quot;</span>);Serial.print(currentDelta);Serial.print(<span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">       #endif</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="comment">// Check If soemthing is blocking the PPG sensor</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">if</span> (currentDelta &gt; (<span class="keywordtype">long</span>)50000) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">        #ifdef debug_presence     </span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;           Serial.print(<span class="stringliteral">&quot; User is Present !!&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        presence = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> presence;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// --------------- Get User Skin Temperature while he worns the NovaXR headset --------------------</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#ad5c1a57702e860314a5b37976bd55d92">  124</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad5c1a57702e860314a5b37976bd55d92">get_Skin_Temp</a>(<span class="keywordtype">bool</span> CelciousFormat){</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;     <span class="keywordflow">if</span>(CelciousFormat){ <span class="comment">// -- If user selected Celcious temperature format</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;         <span class="keywordtype">float</span> C_temp = <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a244b8687036357813f0df90325b5fb83">readTemperature</a>();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">         #ifdef debug_temp</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            Serial.print(<span class="stringliteral">&quot; temp_Celcious= &quot;</span>);Serial.print(C_temp, 4);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">         #endif</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;         <span class="keywordflow">return</span> C_temp;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;         </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;     }<span class="keywordflow">else</span>{              <span class="comment">// -- If user selected Fahrenheit temperature format</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;         <span class="keywordtype">float</span> F_temp = <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a8da9a41049a4cbd021470f459537fd09">readTemperatureF</a>(); </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">         #ifdef debug_temp</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            Serial.print(<span class="stringliteral">&quot; temp_Fahrenheit= &quot;</span>);Serial.print(F_temp, 4);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">         #endif</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;         <span class="keywordflow">return</span> F_temp;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;     }    </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// --------------- Get Heart Rate ------------------------------------------------------------------</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a18e905d072e153629afd00661811c7ac">  145</a></span>&#160;uint8_t <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a18e905d072e153629afd00661811c7ac">get_Heart_Rate</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">long</span> RAW_Sensor =0;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    uint16_t RAW16=0;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// get IR value</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    RAW_Sensor = <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a50f5a5bc027f69d783b191a948b407d0">getIR</a>(); <span class="comment">// 19ms delay</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    RAW16 = RAW16|RAW_Sensor;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// calculate the average HR</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    uint8_t avg_beats_min = <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac19820fe059b8b96fc0630911a48a08f">get_calculated_HR</a>(RAW16);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> avg_beats_min;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">// --------------- Get RAW IR Reflection -----------------------------------------------------------</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#ae4403b167ccf68ad4c48961bdc834bd3">  160</a></span>&#160;uint16_t <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ae4403b167ccf68ad4c48961bdc834bd3">get_RAW_IR_Reflection</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    uint16_t RAW_IR=0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// get IR value</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">long</span> RAW_Sensor = <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a50f5a5bc027f69d783b191a948b407d0">getIR</a>(); <span class="comment">// 19ms delay</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    RAW_IR = RAW_IR|RAW_Sensor;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> RAW_IR;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">// -------------- Calcualte the average Heart Beat based on reflective IR Value --------------------</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#ac19820fe059b8b96fc0630911a48a08f">  172</a></span>&#160;uint8_t <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac19820fe059b8b96fc0630911a48a08f">get_calculated_HR</a>(<span class="keywordtype">long</span> IR_Value){</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="heart_rate_8cpp.html#a83abdb9881ef7887abffdbf639539572">checkForBeat</a>(IR_Value) == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;       <span class="comment">//We sensed a beat!</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;       <span class="keywordtype">long</span> delta = millis() - <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aeb3f835683fe296bbc04886d551dbd4a">lastBeat</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;       <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aeb3f835683fe296bbc04886d551dbd4a">lastBeat</a> = millis();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;       <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22155a0d10f9fceddce65f96454f99e4">beatsPerMinute</a> = 60/(delta/1000.0);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">if</span>(beatsPerMinute &lt; 255 &amp;&amp; beatsPerMinute &gt; 20){</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a5be4ed6a366fb72c4ae168a9ad5f8ba8">rates</a>[<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a27972f8a7ab52059be105f343424f15c">rateSpot</a>++] = (byte)<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22155a0d10f9fceddce65f96454f99e4">beatsPerMinute</a>; <span class="comment">//Store this reading in the array</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a27972f8a7ab52059be105f343424f15c">rateSpot</a> %= <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac80b6534b64626fd7d4fc92e452faab5">RATE_SIZE</a>; <span class="comment">//Wrap variable</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          <span class="comment">//Take average of readings</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">beatAvg</a> = 0;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">byte</span> x = 0 ; x &lt; <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac80b6534b64626fd7d4fc92e452faab5">RATE_SIZE</a> ; x++) <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">beatAvg</a> += <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a5be4ed6a366fb72c4ae168a9ad5f8ba8">rates</a>[x];</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">beatAvg</a> /= <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ac80b6534b64626fd7d4fc92e452faab5">RATE_SIZE</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;         </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">    #ifdef debug_HR</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      Serial.print(<span class="stringliteral">&quot;RAW_IR= &quot;</span>);Serial.print(IR_Value);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      Serial.print(<span class="stringliteral">&quot; ,BPM= &quot;</span>);Serial.print(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22155a0d10f9fceddce65f96454f99e4">beatsPerMinute</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      Serial.print(<span class="stringliteral">&quot; ,Avg BPM= &quot;</span>);Serial.println(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">beatAvg</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (IR_Value &lt; 50000){</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">       #ifndef plotIR</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;          Serial.println(<span class="stringliteral">&quot; No finger?&quot;</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor">       #endif</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">beatAvg</a>; <span class="comment">// beatAvg;</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">// --------------- Default MAX30105 Control Registers Configuration --------------------------------</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a2c5c987e531dcb2a41f1e6fa4c22068e">  210</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2c5c987e531dcb2a41f1e6fa4c22068e">HR_config_Default</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a0d006f5053fcc99e2c7887c5558c759b">setup</a>(); <span class="comment">//Configure sensor with default settings</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a87e2524329ce8db857333bba81eb2c8e">setPulseAmplitudeRed</a>(0x0A); <span class="comment">//Turn Red LED to low to indicate sensor is running</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#ac7490be53c8b488b7ef7f90f4f0f48b1">setPulseAmplitudeGreen</a>(0); <span class="comment">//Turn off Green LED</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">// --------------- Predefined MAX30105 Control Registers Configuration 1--------------------------------</span></div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a7e0ec4005de3cd297a93ae7d5c053c48">  220</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7e0ec4005de3cd297a93ae7d5c053c48">HR_config</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// Setup to sense stable HR values</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a> =  30; <span class="comment">//Options: 0=Off to 255=50mA</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a> =   1; <span class="comment">//Options: 1, 2, 4, 8, 16, 32</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a> =         2; <span class="comment">//Options: 1 = Red only, 2 = Red + IR, 3 = Red + IR + Green</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>=     800; <span class="comment">//Options: 50, 100, 200, 400, 800, 1000, 1600, 3200</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a> =    118; <span class="comment">//Options: 69, 118, 215, 411</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a> =     2048; <span class="comment">//Options: 2048, 4096, 8192, 16384</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a0d006f5053fcc99e2c7887c5558c759b">setup</a>(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a>); <span class="comment">//Configure sensor with these settings</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#aa65a5d9a795d5e0b7a4a13b42fd52ad5">enableDIETEMPRDY</a>();      <span class="comment">//Enable the temp ready interrupt. This is required.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a87e2524329ce8db857333bba81eb2c8e">setPulseAmplitudeRed</a>(0); <span class="comment">//Turn off Red LED</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">// --------------- Predefined MAX30105 Control Registers Configuration 2--------------------------------</span></div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#abb868d878b9a2abd06607e82611a284c">  238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#abb868d878b9a2abd06607e82611a284c">HR_config_4</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// Setup to sense stable HR values</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <span class="keywordtype">byte</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a> =  33; <span class="comment">//Options: 0=Off to 255=50mA</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <span class="keywordtype">byte</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a> =   8; <span class="comment">//Options: 1, 2, 4, 8, 16, 32</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="keywordtype">byte</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a> =         2; <span class="comment">//Options: 1 = Red only, 2 = Red + IR, 3 = Red + IR + Green</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>=      400; <span class="comment">//Options: 50, 100, 200, 400, 800, 1000, 1600, 3200</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a> =     411; <span class="comment">//Options: 69, 118, 215, 411</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a> =      8192; <span class="comment">//Options: 2048, 4096, 8192, 16384</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">// --------------- MAX30105 Control Registers Configuration for Presence sense -------------------------</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#adf61da08797934386f4696b182677f4d">  253</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#adf61da08797934386f4696b182677f4d">PPG_Presence_Config</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">//Setup to sense up to 18 inches, max LED brightness</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a> = 0xFF; <span class="comment">//Options: 0=Off to 255=50mA</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a> = 4;    <span class="comment">//Options: 1, 2, 4, 8, 16, 32</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a>       = 2;    <span class="comment">//Options: 1 = Red only, 2 = Red + IR, 3 = Red + IR + Green</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>     = 400;  <span class="comment">//Options: 50, 100, 200, 400, 800, 1000, 1600, 3200</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a>     = 411;  <span class="comment">//Options: 69, 118, 215, 411</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a>       = 2048; <span class="comment">//Options: 2048, 4096, 8192, 16384</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">//Configure sensor with these settings</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a0d006f5053fcc99e2c7887c5558c759b">setup</a>(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a>); </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a87e2524329ce8db857333bba81eb2c8e">setPulseAmplitudeRed</a>(0); <span class="comment">//Turn off Red LED</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// particleSensor.setPulseAmplitudeGreen(0); //Turn off Green LED</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// --------------- MAX30105 Control Registers Configuration: Enable Skin Temperature Sense ------------</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a6e439e17e6682575aab95f69627635db">  273</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a6e439e17e6682575aab95f69627635db">PPG_Temp_Config</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">//The LEDs are very low power and won&#39;t affect the temp reading much but</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">//you may want to turn off the LEDs to avoid any local heating</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a0d006f5053fcc99e2c7887c5558c759b">setup</a>(0);  <span class="comment">//Configure sensor. Turn off LEDs  </span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#aa65a5d9a795d5e0b7a4a13b42fd52ad5">enableDIETEMPRDY</a>(); <span class="comment">//Enable the temp ready interrupt. This is required.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">// --------------- MAX30105 Control Registers Configuration: Enable FIFO and Register Interrupt ------------</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a5835b4126c241c3403fa01f655c083fc">  285</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a5835b4126c241c3403fa01f655c083fc">En_Int_FIFO_config</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#aa4f9a9b1659d20a5170185ae2378c0be">enableAFULL</a>(); <span class="comment">//Enable the almost full interrupt (default is 32 samples)</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a27ca2e16e633cd7406c49b58b8a37c37">setFIFOAlmostFull</a>(3); <span class="comment">//Set almost full int to fire at 29 samples</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">// --------------- Configure PPG sensor for Temperature Sense ---------------------------</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#ae09d1c3ae86342b03fb087049f617035">  295</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ae09d1c3ae86342b03fb087049f617035">PPG_Temp_Sense_Init</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="comment">// Initialize sensor</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#ac0c8b46b41bdd9b7833e2e0c00b1e0b9">begin</a>(Wire, <a class="code" href="_m_a_x30105_8h.html#aef9d097ed2b58676498a33f3cf76f38d">I2C_SPEED_FAST</a>) == <span class="keyword">false</span>){ <span class="comment">//Use default I2C port, 400kHz speed</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        Serial.println(<span class="stringliteral">&quot;MAX30105 was not found. Please check wiring/power. &quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">while</span> (1);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="comment">// Set Sensor Control Registers for Temperature Sense</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a6e439e17e6682575aab95f69627635db">PPG_Temp_Config</a>();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">// --------------- Configure PPG sensor for HeartRate Sense ---------------------------</span></div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#acf3489bd2e001210a20e9ee3a3e2e946">  310</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#acf3489bd2e001210a20e9ee3a3e2e946">PPG_HR_Sense_Init</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// Initialize sensor</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#ac0c8b46b41bdd9b7833e2e0c00b1e0b9">begin</a>(Wire, <a class="code" href="_m_a_x30105_8h.html#aef9d097ed2b58676498a33f3cf76f38d">I2C_SPEED_FAST</a>)){ <span class="comment">//Use default I2C port, 400kHz speed</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      Serial.println(<span class="stringliteral">&quot;MAX30105 was not found. Please check wiring/power. &quot;</span>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">while</span> (1);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    Serial.println(<span class="stringliteral">&quot;Place your index finger on the sensor with steady pressure.&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// Set Sensor Control Registers for HR sense</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2c5c987e531dcb2a41f1e6fa4c22068e">HR_config_Default</a>();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">// ------------- Configure PPG Sensor in Real Time -------------------------------------</span></div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a5d4868239aa6d9488d9ff2b4f2c30857">  326</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a5d4868239aa6d9488d9ff2b4f2c30857">adjust_configs</a>(uint16_t configVal, <span class="keywordtype">char</span> factor){</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keywordflow">switch</span>(factor){</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a> = configVal;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a> = configVal;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a>  = configVal;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a> = configVal;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>:</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a> = configVal;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>:</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a> = configVal;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a>.<a class="code" href="class_m_a_x30105.html#a0d006f5053fcc99e2c7887c5558c759b">setup</a>(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a>, <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a>); <span class="comment">//Configure sensor with these settings</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#af351878a1299d539f940714687bcfb86">printPPG_Configs</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// ------------- Print PPG Current Configs -------------------------------------------</span></div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#af351878a1299d539f940714687bcfb86">  365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#af351878a1299d539f940714687bcfb86">printPPG_Configs</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    Serial.println(<span class="stringliteral">&quot; ----- PPG Configs ------- &quot;</span>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    Serial.print(<span class="stringliteral">&quot;  A. ledBrightness: &quot;</span>);Serial.println(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    Serial.print(<span class="stringliteral">&quot;  B. sampleAverage: &quot;</span>);Serial.println(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    Serial.print(<span class="stringliteral">&quot;  C. ledMode: &quot;</span>);      Serial.println(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    Serial.print(<span class="stringliteral">&quot;  D. sampleRate: &quot;</span>);   Serial.println(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    Serial.print(<span class="stringliteral">&quot;  E. pulseWidth: &quot;</span>);   Serial.println(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    Serial.print(<span class="stringliteral">&quot;  F. adcRange: &quot;</span>);     Serial.println(<a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    Serial.println(<span class="stringliteral">&quot; ------------------------- &quot;</span>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">// ------------- Read Incomming String from serial monitor and return integer ------------</span></div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#abed512aa8522367c50cea5d5e7f53862">  380</a></span>&#160;uint16_t <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#abed512aa8522367c50cea5d5e7f53862">read_return_int</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordtype">int</span> number =0;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      String inString = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordtype">int</span> inChar =0;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">while</span>(Serial.available()&gt; 0){</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordtype">char</span> cmd = inChar = Serial.read();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">if</span>(cmd==<span class="charliteral">&#39;z&#39;</span>){</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#af351878a1299d539f940714687bcfb86">printPPG_Configs</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            delay(1500);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (isDigit(inChar)){</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;          inString += (char)inChar;                 </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;         }      </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;             </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (inChar ==<span class="charliteral">&#39;\n&#39;</span>){      </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            number = inString.toInt();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            inString = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;     }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;     </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> number;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">// ------------- Sensor Calibration Process: adjust PPG configs in real time -----------</span></div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a340b8eb42acec33e3250176b7e568257">  407</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a340b8eb42acec33e3250176b7e568257">RealTime_Sensor_Calibration</a>(){</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">char</span> inCMD=0;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span>(Serial.available() &gt; 0) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;       <span class="comment">// read the incoming byte:</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;       inCMD = Serial.read();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;       <span class="keywordflow">if</span>(inCMD ==<span class="charliteral">&#39;A&#39;</span>){</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          <span class="comment">// ---- Brightness -------------------</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          Serial.println(<span class="stringliteral">&quot;\nA &gt;&gt;&gt; Led Brightness&quot;</span>); </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          Serial.println(<span class="stringliteral">&quot;Options: 0=Off to 255=50mA&quot;</span>); </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          inCMD=0; <span class="comment">// Reset incoming Command </span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a>(1,255,<span class="charliteral">&#39;A&#39;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;       }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(inCMD ==<span class="charliteral">&#39;B&#39;</span>){</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          Serial.println(<span class="stringliteral">&quot;\n B &gt;&gt;&gt; SampleAverage&quot;</span>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;          Serial.println(<span class="stringliteral">&quot;Options: 1, 2, 4, 8, 16, 32&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;          inCMD=0; <span class="comment">// Reset incoming Command      </span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a>(1,32,<span class="charliteral">&#39;B&#39;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;       }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(inCMD ==<span class="charliteral">&#39;C&#39;</span>){</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          Serial.println(<span class="stringliteral">&quot;\nC &gt;&gt;&gt; ledMode&quot;</span>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          Serial.println(<span class="stringliteral">&quot;Options: 1 = Red only, 2 = Red + IR, 3 = Red + IR + Green&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          inCMD=0; <span class="comment">// Reset incoming Command      </span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;          <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a>(1,3,<span class="charliteral">&#39;C&#39;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;              </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;       }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(inCMD ==<span class="charliteral">&#39;D&#39;</span>){</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;         Serial.println(<span class="stringliteral">&quot;\nD &gt;&gt;&gt; sampleRate&quot;</span>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;         Serial.println(<span class="stringliteral">&quot;Options: 50, 100, 200, 400, 800, 1000, 1600, 3200&quot;</span>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;         inCMD=0; <span class="comment">// Reset incoming Command      </span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;         <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a>(50,3200,<span class="charliteral">&#39;D&#39;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;       }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(inCMD ==<span class="charliteral">&#39;E&#39;</span>){</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;         Serial.println(<span class="stringliteral">&quot;\nE &gt;&gt;&gt; pulseWidth&quot;</span>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;         Serial.println(<span class="stringliteral">&quot;Options: 69, 118, 215, 411&quot;</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;         inCMD=0; <span class="comment">// Reset incoming Command      </span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a>(69,411,<span class="charliteral">&#39;E&#39;</span>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;       }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(inCMD ==<span class="charliteral">&#39;F&#39;</span>){</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;         Serial.println(<span class="stringliteral">&quot;\nF &gt;&gt;&gt; adcRange&quot;</span>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;         Serial.println(<span class="stringliteral">&quot;Options: 2048, 4096, 8192, 16384&quot;</span>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;         inCMD=0; <span class="comment">// Reset incoming Command      </span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;         <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a>(2048,16384,<span class="charliteral">&#39;F&#39;</span>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;       </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;     </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">// --------- Print PPG Config Options ------------------------------------</span></div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a567fb93be84cb532100d57a64473fe82">  460</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a567fb93be84cb532100d57a64473fe82">printInfo</a>(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        Serial.println(<span class="stringliteral">&quot; |============== Adjust Configuration Factor for PPG Sensor ======================|\n&quot;</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        Serial.println(<span class="stringliteral">&quot;    A. ledBrightness - Options: 0=Off to 255=50mA&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        Serial.println(<span class="stringliteral">&quot;    B. sampleAverage - Options: 1, 2, 4, 8, 16, 32&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        Serial.println(<span class="stringliteral">&quot;    C. ledMode =     - Options: 1 = Red only, 2 = Red + IR, 3 = Red + IR + Green&quot;</span>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        Serial.println(<span class="stringliteral">&quot;    D. sampleRate    - Options: 50, 100, 200, 400, 800, 1000, 1600, 3200&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        Serial.println(<span class="stringliteral">&quot;    E. pulseWidth    - Options: 69, 118, 215, 411&quot;</span>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        Serial.println(<span class="stringliteral">&quot;    F. adcRange      - Options: 2048, 4096, 8192, 16384\n&quot;</span>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        Serial.println(<span class="stringliteral">&quot; |================================================================================|&quot;</span>);  </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        Serial.println(<span class="stringliteral">&quot;  1. --- Type a Letter for Configuration Factor and then a integer Configuration value &quot;</span>);    </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        Serial.println(<span class="stringliteral">&quot;  2. --- Type a &#39;z&#39; to print current configs - Type &#39;99999&#39; to stop reading&quot;</span>); </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">// ---------- Apply Config values to the PPG Sensor -----------------------</span></div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="_nova_x_r___p_p_g___sensor_8h.html#a4fa0bb3b737489198b4e87629c6c4930">  476</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a>(uint16_t Min, uint16_t Max, <span class="keywordtype">char</span> command){</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;     </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">while</span>(1){     </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;         <span class="keywordflow">if</span> (Serial.available() &gt; 0){</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            uint16_t Config = <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#abed512aa8522367c50cea5d5e7f53862">read_return_int</a>();   <span class="comment">// trnaslate incoming Configuration value to a rela integer   </span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            Serial.println(Config); </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">if</span>(Config){</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;               <span class="keywordflow">if</span>((Config&lt;=Max)&amp;&amp;(Config&gt;=Min)){                               </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                  <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a5d4868239aa6d9488d9ff2b4f2c30857">adjust_configs</a>(Config,command);           </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;               }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                  Serial.println(<span class="stringliteral">&quot;Stop&quot;</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;               }  </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            }                                  </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;         }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#a18e905d072e153629afd00661811c7ac">get_Heart_Rate</a>();       </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="_nova_x_r___p_p_g___sensor_8cpp.html#af351878a1299d539f940714687bcfb86">printPPG_Configs</a>();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a639c25a6b30b46519847f6cacf61a4ed"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a639c25a6b30b46519847f6cacf61a4ed">unblockedValue</a></div><div class="ttdeci">long unblockedValue</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00027">NovaXR_PPG_Sensor.cpp:27</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a567fb93be84cb532100d57a64473fe82"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a567fb93be84cb532100d57a64473fe82">printInfo</a></div><div class="ttdeci">void printInfo(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00460">NovaXR_PPG_Sensor.cpp:460</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ae4403b167ccf68ad4c48961bdc834bd3"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ae4403b167ccf68ad4c48961bdc834bd3">get_RAW_IR_Reflection</a></div><div class="ttdeci">uint16_t get_RAW_IR_Reflection(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00160">NovaXR_PPG_Sensor.cpp:160</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ad16762d495115c2606417076f062c39d"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ad16762d495115c2606417076f062c39d">sampleRate</a></div><div class="ttdeci">int sampleRate</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00042">NovaXR_PPG_Sensor.cpp:42</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a340b8eb42acec33e3250176b7e568257"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a340b8eb42acec33e3250176b7e568257">RealTime_Sensor_Calibration</a></div><div class="ttdeci">void RealTime_Sensor_Calibration()</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00407">NovaXR_PPG_Sensor.cpp:407</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a6e439e17e6682575aab95f69627635db"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a6e439e17e6682575aab95f69627635db">PPG_Temp_Config</a></div><div class="ttdeci">void PPG_Temp_Config(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00273">NovaXR_PPG_Sensor.cpp:273</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a5835b4126c241c3403fa01f655c083fc"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a5835b4126c241c3403fa01f655c083fc">En_Int_FIFO_config</a></div><div class="ttdeci">void En_Int_FIFO_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00285">NovaXR_PPG_Sensor.cpp:285</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_aa9f6599748e33619812aa4d415df31d9"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#aa9f6599748e33619812aa4d415df31d9">PPG_Init</a></div><div class="ttdeci">void PPG_Init(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00050">NovaXR_PPG_Sensor.cpp:50</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_abed512aa8522367c50cea5d5e7f53862"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#abed512aa8522367c50cea5d5e7f53862">read_return_int</a></div><div class="ttdeci">uint16_t read_return_int(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00380">NovaXR_PPG_Sensor.cpp:380</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ad1b905a02b224f63e9a6c273a807b79a"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ad1b905a02b224f63e9a6c273a807b79a">ledBrightness</a></div><div class="ttdeci">byte ledBrightness</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00039">NovaXR_PPG_Sensor.cpp:39</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_abb868d878b9a2abd06607e82611a284c"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#abb868d878b9a2abd06607e82611a284c">HR_config_4</a></div><div class="ttdeci">void HR_config_4(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00238">NovaXR_PPG_Sensor.cpp:238</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8h_html"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8h.html">NovaXR_PPG_Sensor.h</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_acf3489bd2e001210a20e9ee3a3e2e946"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#acf3489bd2e001210a20e9ee3a3e2e946">PPG_HR_Sense_Init</a></div><div class="ttdeci">void PPG_HR_Sense_Init(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00310">NovaXR_PPG_Sensor.cpp:310</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ac80b6534b64626fd7d4fc92e452faab5"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ac80b6534b64626fd7d4fc92e452faab5">RATE_SIZE</a></div><div class="ttdeci">const byte RATE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00031">NovaXR_PPG_Sensor.cpp:31</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a5be4ed6a366fb72c4ae168a9ad5f8ba8"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a5be4ed6a366fb72c4ae168a9ad5f8ba8">rates</a></div><div class="ttdeci">byte rates[RATE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00032">NovaXR_PPG_Sensor.cpp:32</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_ac7490be53c8b488b7ef7f90f4f0f48b1"><div class="ttname"><a href="class_m_a_x30105.html#ac7490be53c8b488b7ef7f90f4f0f48b1">MAX30105::setPulseAmplitudeGreen</a></div><div class="ttdeci">void setPulseAmplitudeGreen(uint8_t value)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00271">MAX30105.cpp:271</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ac19820fe059b8b96fc0630911a48a08f"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ac19820fe059b8b96fc0630911a48a08f">get_calculated_HR</a></div><div class="ttdeci">uint8_t get_calculated_HR(long IR_Value)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00172">NovaXR_PPG_Sensor.cpp:172</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_a27ca2e16e633cd7406c49b58b8a37c37"><div class="ttname"><a href="class_m_a_x30105.html#a27ca2e16e633cd7406c49b58b8a37c37">MAX30105::setFIFOAlmostFull</a></div><div class="ttdeci">void setFIFOAlmostFull(uint8_t samples)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00349">MAX30105.cpp:349</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a586ed1dd49778c23de689b28f9625f0f"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a586ed1dd49778c23de689b28f9625f0f">PPG_Presence_Sense_Init</a></div><div class="ttdeci">void PPG_Presence_Sense_Init(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00068">NovaXR_PPG_Sensor.cpp:68</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a7ff236f1c8241a7a5cc62a2ec7f2ae95"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a7ff236f1c8241a7a5cc62a2ec7f2ae95">sampleAverage</a></div><div class="ttdeci">byte sampleAverage</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00040">NovaXR_PPG_Sensor.cpp:40</a></div></div>
<div class="ttc" id="a_m_a_x30105_8h_html"><div class="ttname"><a href="_m_a_x30105_8h.html">MAX30105.h</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a8ad49a66e91d8658c5f1f7dbcbcbbd2f"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a8ad49a66e91d8658c5f1f7dbcbcbbd2f">startTime</a></div><div class="ttdeci">long startTime</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00028">NovaXR_PPG_Sensor.cpp:28</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_ac0c8b46b41bdd9b7833e2e0c00b1e0b9"><div class="ttname"><a href="class_m_a_x30105.html#ac0c8b46b41bdd9b7833e2e0c00b1e0b9">MAX30105::begin</a></div><div class="ttdeci">boolean begin(TwoWire &amp;wirePort=Wire, uint32_t i2cSpeed=I2C_SPEED_STANDARD, uint8_t i2caddr=MAX30105_ADDRESS)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00142">MAX30105.cpp:142</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_aa65a5d9a795d5e0b7a4a13b42fd52ad5"><div class="ttname"><a href="class_m_a_x30105.html#aa65a5d9a795d5e0b7a4a13b42fd52ad5">MAX30105::enableDIETEMPRDY</a></div><div class="ttdeci">void enableDIETEMPRDY(void)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00204">MAX30105.cpp:204</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a4fa0bb3b737489198b4e87629c6c4930"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a4fa0bb3b737489198b4e87629c6c4930">Config_and_Calibrate</a></div><div class="ttdeci">void Config_and_Calibrate(uint16_t Min, uint16_t Max, char command)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00476">NovaXR_PPG_Sensor.cpp:476</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_aa4f9a9b1659d20a5170185ae2378c0be"><div class="ttname"><a href="class_m_a_x30105.html#aa4f9a9b1659d20a5170185ae2378c0be">MAX30105::enableAFULL</a></div><div class="ttdeci">void enableAFULL(void)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00176">MAX30105.cpp:176</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a27972f8a7ab52059be105f343424f15c"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a27972f8a7ab52059be105f343424f15c">rateSpot</a></div><div class="ttdeci">byte rateSpot</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00033">NovaXR_PPG_Sensor.cpp:33</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ae09d1c3ae86342b03fb087049f617035"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ae09d1c3ae86342b03fb087049f617035">PPG_Temp_Sense_Init</a></div><div class="ttdeci">void PPG_Temp_Sense_Init(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00295">NovaXR_PPG_Sensor.cpp:295</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a7e0ec4005de3cd297a93ae7d5c053c48"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a7e0ec4005de3cd297a93ae7d5c053c48">HR_config</a></div><div class="ttdeci">void HR_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00220">NovaXR_PPG_Sensor.cpp:220</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a22155a0d10f9fceddce65f96454f99e4"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a22155a0d10f9fceddce65f96454f99e4">beatsPerMinute</a></div><div class="ttdeci">float beatsPerMinute</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00035">NovaXR_PPG_Sensor.cpp:35</a></div></div>
<div class="ttc" id="aheart_rate_8h_html"><div class="ttname"><a href="heart_rate_8h.html">heartRate.h</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_aeb3f835683fe296bbc04886d551dbd4a"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#aeb3f835683fe296bbc04886d551dbd4a">lastBeat</a></div><div class="ttdeci">long lastBeat</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00034">NovaXR_PPG_Sensor.cpp:34</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a18e905d072e153629afd00661811c7ac"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a18e905d072e153629afd00661811c7ac">get_Heart_Rate</a></div><div class="ttdeci">uint8_t get_Heart_Rate(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00145">NovaXR_PPG_Sensor.cpp:145</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_aef9e89b52dc9a788a725cafdacb1724c"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#aef9e89b52dc9a788a725cafdacb1724c">ledMode</a></div><div class="ttdeci">byte ledMode</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00041">NovaXR_PPG_Sensor.cpp:41</a></div></div>
<div class="ttc" id="a_m_a_x30105_8h_html_a389fa0c3fdbed513c010d94181965bf1"><div class="ttname"><a href="_m_a_x30105_8h.html#a389fa0c3fdbed513c010d94181965bf1">I2C_SUPER_FAST</a></div><div class="ttdeci">#define I2C_SUPER_FAST</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8h_source.html#l00026">MAX30105.h:26</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html"><div class="ttname"><a href="class_m_a_x30105.html">MAX30105</a></div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8h_source.html#l00046">MAX30105.h:46</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ac8a50ff971ce33bff956168d52ee61e5"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ac8a50ff971ce33bff956168d52ee61e5">samplesTaken</a></div><div class="ttdeci">long samplesTaken</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00026">NovaXR_PPG_Sensor.cpp:26</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_a244b8687036357813f0df90325b5fb83"><div class="ttname"><a href="class_m_a_x30105.html#a244b8687036357813f0df90325b5fb83">MAX30105::readTemperature</a></div><div class="ttdeci">float readTemperature()</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00366">MAX30105.cpp:366</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a2d18bd4f5e268c0ea3fab814cabc7adf"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a2d18bd4f5e268c0ea3fab814cabc7adf">particleSensor</a></div><div class="ttdeci">MAX30105 particleSensor</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00023">NovaXR_PPG_Sensor.cpp:23</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_aff1b81ede6112ba52687b831ac3a4e83"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#aff1b81ede6112ba52687b831ac3a4e83">beatAvg</a></div><div class="ttdeci">int beatAvg</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00036">NovaXR_PPG_Sensor.cpp:36</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_a87e2524329ce8db857333bba81eb2c8e"><div class="ttname"><a href="class_m_a_x30105.html#a87e2524329ce8db857333bba81eb2c8e">MAX30105::setPulseAmplitudeRed</a></div><div class="ttdeci">void setPulseAmplitudeRed(uint8_t value)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00263">MAX30105.cpp:263</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_af351878a1299d539f940714687bcfb86"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#af351878a1299d539f940714687bcfb86">printPPG_Configs</a></div><div class="ttdeci">void printPPG_Configs(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00365">NovaXR_PPG_Sensor.cpp:365</a></div></div>
<div class="ttc" id="a_m_a_x30105_8h_html_aef9d097ed2b58676498a33f3cf76f38d"><div class="ttname"><a href="_m_a_x30105_8h.html#aef9d097ed2b58676498a33f3cf76f38d">I2C_SPEED_FAST</a></div><div class="ttdeci">#define I2C_SPEED_FAST</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8h_source.html#l00025">MAX30105.h:25</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ac3bd7a0dc15438f386087a9f208725ec"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ac3bd7a0dc15438f386087a9f208725ec">getPresence</a></div><div class="ttdeci">bool getPresence(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00093">NovaXR_PPG_Sensor.cpp:93</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_a50f5a5bc027f69d783b191a948b407d0"><div class="ttname"><a href="class_m_a_x30105.html#a50f5a5bc027f69d783b191a948b407d0">MAX30105::getIR</a></div><div class="ttdeci">uint32_t getIR(void)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00544">MAX30105.cpp:544</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_a0d006f5053fcc99e2c7887c5558c759b"><div class="ttname"><a href="class_m_a_x30105.html#a0d006f5053fcc99e2c7887c5558c759b">MAX30105::setup</a></div><div class="ttdeci">void setup(byte powerLevel=0x1F, byte sampleAverage=4, byte ledMode=3, int sampleRate=400, int pulseWidth=411, int adcRange=4096)</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00439">MAX30105.cpp:439</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a2458cb363c4e88b698ca067fafba196e"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a2458cb363c4e88b698ca067fafba196e">pulseWidth</a></div><div class="ttdeci">int pulseWidth</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00043">NovaXR_PPG_Sensor.cpp:43</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_adf61da08797934386f4696b182677f4d"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#adf61da08797934386f4696b182677f4d">PPG_Presence_Config</a></div><div class="ttdeci">void PPG_Presence_Config(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00253">NovaXR_PPG_Sensor.cpp:253</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a2c5c987e531dcb2a41f1e6fa4c22068e"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a2c5c987e531dcb2a41f1e6fa4c22068e">HR_config_Default</a></div><div class="ttdeci">void HR_config_Default(void)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00210">NovaXR_PPG_Sensor.cpp:210</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a5d4868239aa6d9488d9ff2b4f2c30857"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a5d4868239aa6d9488d9ff2b4f2c30857">adjust_configs</a></div><div class="ttdeci">void adjust_configs(uint16_t configVal, char factor)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00326">NovaXR_PPG_Sensor.cpp:326</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_a22d2ab24ecd4e43eec367551bdff1841"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#a22d2ab24ecd4e43eec367551bdff1841">adcRange</a></div><div class="ttdeci">int adcRange</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00044">NovaXR_PPG_Sensor.cpp:44</a></div></div>
<div class="ttc" id="aheart_rate_8cpp_html_a83abdb9881ef7887abffdbf639539572"><div class="ttname"><a href="heart_rate_8cpp.html#a83abdb9881ef7887abffdbf639539572">checkForBeat</a></div><div class="ttdeci">bool checkForBeat(int32_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="heart_rate_8cpp_source.html#l00081">heartRate.cpp:81</a></div></div>
<div class="ttc" id="aclass_m_a_x30105_html_a8da9a41049a4cbd021470f459537fd09"><div class="ttname"><a href="class_m_a_x30105.html#a8da9a41049a4cbd021470f459537fd09">MAX30105::readTemperatureF</a></div><div class="ttdeci">float readTemperatureF()</div><div class="ttdef"><b>Definition:</b> <a href="_m_a_x30105_8cpp_source.html#l00402">MAX30105.cpp:402</a></div></div>
<div class="ttc" id="a_nova_x_r___p_p_g___sensor_8cpp_html_ad5c1a57702e860314a5b37976bd55d92"><div class="ttname"><a href="_nova_x_r___p_p_g___sensor_8cpp.html#ad5c1a57702e860314a5b37976bd55d92">get_Skin_Temp</a></div><div class="ttdeci">float get_Skin_Temp(bool CelciousFormat)</div><div class="ttdef"><b>Definition:</b> <a href="_nova_x_r___p_p_g___sensor_8cpp_source.html#l00124">NovaXR_PPG_Sensor.cpp:124</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
